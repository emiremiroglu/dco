<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/@tailwindcss/forms@0.2.1/dist/forms.min.css" rel="stylesheet">
  <script type="text/javascript" src="https://creative.stackadapt.com/js/iframe-ct.js"></script>
  <title>Curaleaf</title>
  <style>
    p {
      margin-bottom: 20px !important;
      line-height: 160%;
    }

    iframe {
      margin-top: 20px;
      user-select:none;
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
    }
  </style>
</head>
<body class="py-20 bg-zinc-50 dark:bg-zinc-800 dark:text-zinc-200">
  <header class="fixed top-0 left-0 right-0 py-3 w-full bg-zinc-50 dark:bg-zinc-700 shadow-lg z-50">
    <section class="flex justify-between items-center max-w-[970px] mx-auto">
      <strong>
        Curaleaf Holiday '24 Preview
      </strong>
      <div class="flex items-center gap-3">
        <select id="date" class="min-w-[200px] block w-full rounded-md border-zinc-300 dark:border-zinc-500 dark:bg-zinc-900 py-2 pl-3 pr-10 text-bas focus:outline-none sm:text-sm">
          <option>Choose Date</option>
          <option value="2024-11-27">Green Wednesday: 2024-11-27</option>
          <option value="2024-11-28">Thanksgiving: 2024-11-28</option>
          <option value="2024-11-29">Black Friday: 2024-11-29</option>
          <option value="2024-12-02">Cyber Monday: 2024-12-02</option>
          <option value="2024-12-25">Christmas: 2024-12-25</option>
          <option value="2024-12-26">Hanukkah: 2024-12-26</option>
          <option value="2024-12-27">Hanukkah: 2024-12-27</option>
          <option value="2024-12-28">Hanukkah: 2024-12-28</option>
          <option value="2024-12-29">Hanukkah: 2024-12-29</option>
          <option value="2024-12-30">Hanukkah: 2024-12-30</option>
          <option value="2024-12-31">New Years: 2024-12-31</option>
          <option value="2025-01-01">New Years: 2025-01-01</option>
        </select>
        <select id="locations" class="min-w-[200px] block w-full rounded-md border-zinc-300 dark:border-zinc-500 dark:bg-zinc-900 py-2 pl-3 pr-10 text-bas focus:outline-none sm:text-sm"></select>
      </div>
    </section>    
  </header>
  <main class="max-w-[970px] mx-auto">
    <section class="mb-10">
      <div>
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="970" height="250"></iframe>
        <span class="text-xs opacity-30">970x250</span>
      </div>

      <div>
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="728" height="90"></iframe>
        <span class="text-xs opacity-30">728x90</span>
      </div>
    </section>

    <section class="grid grid-cols-3 gap-6">
      <div class="col-span-2">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam sit amet fermentum felis. Phasellus fermentum feugiat elit. Morbi scelerisque erat vel consectetur molestie. Quisque euismod vitae sapien eu tempor. Donec sed sem nunc. Vestibulum elit massa, auctor vitae ex ac, hendrerit bibendum nunc. Quisque placerat tellus neque, quis molestie mi cursus in. Maecenas in justo et dolor placerat fermentum. Morbi faucibus erat sed enim commodo luctus. Pellentesque a lectus id erat ultricies scelerisque.</p>
        <p>Nunc ut tincidunt tellus. Phasellus metus sem, consequat ac efficitur quis, egestas at tortor. Curabitur a pretium ipsum. Nulla ut nulla massa. Praesent nunc turpis, faucibus nec dolor id, venenatis tincidunt quam. Nulla vehicula sollicitudin lectus sit amet consequat. Etiam nec dolor purus. Suspendisse potenti. Nam vitae felis vitae tortor faucibus ultricies. Morbi in risus quis leo tempus molestie.</p>
        <p>Quisque faucibus mauris eu nisi tristique placerat in quis leo. Donec tristique, ex non aliquam pulvinar, nisi elit aliquam nulla, sed eleifend augue ligula vitae lacus. Cras eget orci metus. Cras quis neque odio. Nam et enim felis. Sed hendrerit rutrum ligula, nec fringilla urna efficitur vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque vitae posuere diam. Sed rutrum justo quis pulvinar tincidunt. Nam ornare eros quis ligula venenatis, et tincidunt velit blandit. Curabitur eleifend, massa porttitor elementum dapibus, nisi turpis laoreet erat, sit amet laoreet leo leo sit amet mi. In erat mi, fringilla ut mattis nec, egestas suscipit libero.</p>
        <p>Morbi eu rutrum neque. Sed ut risus elit. Praesent nec justo nibh. Etiam efficitur feugiat turpis et interdum. Phasellus sed consequat ipsum. Donec feugiat tellus sed est eleifend auctor consequat egestas metus. Pellentesque sit amet arcu ipsum. Duis elementum congue diam, vel tincidunt mauris venenatis eget. Sed elementum magna id quam ornare aliquam.</p>
        <p>Nunc a turpis ac purus porta auctor eleifend a mi. Phasellus commodo a augue nec interdum. Proin nec nulla eget arcu suscipit posuere. Cras euismod ipsum porttitor dui rhoncus lacinia. Nulla elementum metus a mauris auctor semper. Donec viverra cursus mollis. Suspendisse hendrerit laoreet mauris, vitae ultricies sem aliquam id.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam sit amet fermentum felis. Phasellus fermentum feugiat elit. Morbi scelerisque erat vel consectetur molestie. Quisque euismod vitae sapien eu tempor. Donec sed sem nunc. Vestibulum elit massa, auctor vitae ex ac, hendrerit bibendum nunc. Quisque placerat tellus neque, quis molestie mi cursus in. Maecenas in justo et dolor placerat fermentum. Morbi faucibus erat sed enim commodo luctus. Pellentesque a lectus id erat ultricies scelerisque.</p>
        <p>Quisque faucibus mauris eu nisi tristique placerat in quis leo. Donec tristique, ex non aliquam pulvinar, nisi elit aliquam nulla, sed eleifend augue ligula vitae lacus. Cras eget orci metus. Cras quis neque odio. Nam et enim felis. Sed hendrerit rutrum ligula, nec fringilla urna efficitur vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque vitae posuere diam. Sed rutrum justo quis pulvinar tincidunt. Nam ornare eros quis ligula venenatis, et tincidunt velit blandit. Curabitur eleifend, massa porttitor elementum dapibus, nisi turpis laoreet erat, sit amet laoreet leo leo sit amet mi. In erat mi, fringilla ut mattis nec, egestas suscipit libero.</p>
        <p>Morbi eu rutrum neque. Sed ut risus elit. Praesent nec justo nibh. Etiam efficitur feugiat turpis et interdum. Phasellus sed consequat ipsum. Donec feugiat tellus sed est eleifend auctor consequat egestas metus. Pellentesque sit amet arcu ipsum. Duis elementum congue diam, vel tincidunt mauris venenatis eget.</p>
      </div>
      <div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="300" height="250"></iframe>
        <span class="text-xs opacity-30">300x250</span>
        
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="300" height="600"></iframe>
        <span class="text-xs opacity-30">300x600</span>
      </div>
    </section>

    <section class="grid grid-cols-3 gap-6">
      <div>
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="320" height="100"></iframe>
        <span class="text-xs opacity-30">320x100</span>
      </div>
      <div>
        <iframe class="shadow" src="./banner.html?code=AZ-1631058255" width="320" height="50"></iframe>
        <span class="text-xs opacity-30">320x50</span>
      </div>
    </section>

  </main>
  <script>
    fetch('./data.json')
    .then(res => res.json())
    .then(data => {

      const qs = new URLSearchParams(window.location.search);
      
      const code = qs.get('code') || 'AZ-0';
      const date = qs.get('date') || '2024-11-27'

      const iframes = document.querySelectorAll('iframe');

      for(i in iframes) {
        iframes[i].src = `./banner.html?code=${code}&date=${date}`
      }

      let options = [
        '<option>Choose Location</option>'
      ]

      for(key in data) {
        let abbr = key
        let state = data[key]
        
        options.push(
          `<optgroup label="${state.name}">
            ${Object.keys(state.locations).map(key => `
              <option value="${key}" ${key === code ? 'selected' : ''}>
                ${state.locations[key].name}
              </option>
            ` ).join("\n")}
          </optgroup>`
        )
      }
      
      locations.innerHTML = options.join('\n')

      // Change the page url to update banners
      document.getElementById('locations').onchange = function() {
        window.location.href = `?code=${this.value}&date=${date}`
      }

      document.getElementById('date').onchange = function() {
        window.location.href = `?code=${code}&date=${this.value}`;
      }


    })
  </script>
</body>
</html>